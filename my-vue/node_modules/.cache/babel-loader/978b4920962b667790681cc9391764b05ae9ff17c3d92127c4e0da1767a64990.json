{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useRouter } from \"vue-router\";\nimport { reactive } from \"vue\";\nimport instance from \"@/axios\";\nimport { ElMessage } from \"element-plus\";\nexport default {\n  __name: 'RegisterPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const form = reactive({\n      name: \"\",\n      password: \"\",\n      label: \"\",\n      sex: \"\",\n      area: \"\",\n      stage: \"\",\n      school: \"\",\n      goal: \"\"\n    });\n    const router = useRouter();\n    const commit = async () => {\n      instance.post(\"http://localhost:8080/register\", {\n        name: form.name,\n        password: form.password,\n        label: form.label,\n        sex: parseInt(form.sex),\n        area: form.area,\n        stage: form.stage,\n        school: form.school,\n        goal: form.goal,\n        image: \"/default.png\"\n      }).then(res => {\n        if (res.data.code === 200) {\n          ElMessage({\n            message: res.data.message,\n            type: \"success\"\n          });\n          router.push(\"/\");\n        } else {\n          ElMessage.error(res.data.message);\n        }\n      });\n    };\n    const back = () => {\n      router.push(\"/\");\n    };\n    const __returned__ = {\n      form,\n      router,\n      commit,\n      back,\n      get useRouter() {\n        return useRouter;\n      },\n      reactive,\n      get instance() {\n        return instance;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useRouter","reactive","instance","ElMessage","form","name","password","label","sex","area","stage","school","goal","router","commit","post","parseInt","image","then","res","data","code","message","type","push","error","back"],"sources":["/Users/banzhijiangshan/Desktop/my-vue/src/components/RegisterPage.vue"],"sourcesContent":["<template>\n  <div>\n    <el-main class=\"el-main\">\n      <el-image\n        :src=\"require('@/assets/register.png')\"\n        style=\"margin: 0; position: absolute; height: 100%; width: 100%\"\n      ></el-image>\n      <el-row class=\"el-row\">\n        <el-col align=\"center\">\n          <div class=\"radius\">\n            <el-form :model=\"form\" label-width=\"auto\" size=\"large\">\n              <br />\n              <br />\n              <el-form-item class=\"el-form-item\">\n                <el-input\n                  class=\"el-input\"\n                  maxlength=\"30\"\n                  show-word-limits\n                  placeholder=\"学号\"\n                  v-model=\"form.id\"\n                />\n              </el-form-item>\n\n              <el-form-item class=\"el-form-item\">\n                <el-input\n                  class=\"el-input\"\n                  maxlength=\"30\"\n                  show-word-limit\n                  placeholder=\"用户名\"\n                  v-model=\"form.name\"\n                />\n              </el-form-item>\n\n              <el-form-item class=\"el-form-item\">\n                <el-input\n                  class=\"el-input\"\n                  maxlength=\"30\"\n                  show-word-limit\n                  placeholder=\"密码\"\n                  show-password\n                  v-model=\"form.password\"\n                  type=\"password\"\n                />\n              </el-form-item>\n\n              <el-form-item class=\"el-form-item\">\n                <el-input\n                  class=\"el-input\"\n                  maxlength=\"30\"\n                  show-word-limit\n                  placeholder=\"重复密码\"\n                  show-password\n                  v-model=\"form.repeatpassword\"\n                  type=\"password\"\n                />\n              </el-form-item>\n\n              <el-form-item class=\"el-form-item\">\n                <el-input\n                  class=\"el-input\"\n                  maxlength=\"30\"\n                  show-word-limit\n                  placeholder=\"邮箱\"\n                  show-password\n                  v-model=\"form.email\"\n                  type=\"password\"\n                />\n              </el-form-item>\n\n              <el-row>\n                <el-col :span=\"8\" :offset=\"4\">\n                  <el-button\n                    type=\"primary\"\n                    class=\"button-class\"\n                    round\n                    @click=\"commit\"\n                    >注册</el-button\n                  >\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-button\n                    type=\"success\"\n                    class=\"button-class\"\n                    round\n                    @click=\"back\"\n                    >返回</el-button\n                  >\n                </el-col>\n              </el-row>\n            </el-form>\n          </div>\n        </el-col>\n      </el-row>\n    </el-main>\n  </div>\n</template>\n\n<script setup>\nimport { useRouter } from \"vue-router\";\nimport { reactive } from \"vue\";\nimport instance from \"@/axios\";\nimport { ElMessage } from \"element-plus\";\n\nconst form = reactive({\n  name: \"\",\n  password: \"\",\n  label: \"\",\n  sex: \"\",\n  area: \"\",\n  stage: \"\",\n  school: \"\",\n  goal: \"\",\n});\n\nconst router = useRouter();\n\nconst commit = async () => {\n  instance\n    .post(\"http://localhost:8080/register\", {\n      name: form.name,\n      password: form.password,\n      label: form.label,\n      sex: parseInt(form.sex),\n      area: form.area,\n      stage: form.stage,\n      school: form.school,\n      goal: form.goal,\n      image: \"/default.png\",\n    })\n    .then((res) => {\n      if (res.data.code === 200) {\n        ElMessage({\n          message: res.data.message,\n          type: \"success\",\n        });\n        router.push(\"/\");\n      } else {\n        ElMessage.error(res.data.message);\n      }\n    });\n};\nconst back = () => {\n  router.push(\"/\");\n};\n</script>\n\n<style scoped>\n.h1 {\n  text-align: center;\n  font-size: 100px;\n  transform: translateY(-50%);\n  color: #ffbc37;\n  font-family: STLiti, serif;\n}\n\n.radius {\n  height: 65%;\n  width: 400px;\n  border: 1px solid var(--el-border-color);\n  border-radius: 20px;\n  margin-top: 240px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.5);\n  text-align: center;\n  background-color: #daf3f1 !important;\n}\n\n.el-main {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.el-row {\n  margin-top: 10px;\n  margin-bottom: 30px;\n}\n\n.el-form-item {\n  display: inline-block;\n  width: 80%;\n}\n\n.el-input {\n  text-align: center;\n  vertical-align: middle;\n}\n\n.button-class {\n  width: 70%;\n  height: 80%;\n  text-align: center;\n  font-size: 20px;\n  background-color: #1677ff;\n  border-radius: 7px !important;\n}\n</style>\n"],"mappings":";AAkGA,SAASA,SAAS,QAAQ,YAAY;AACtC,SAASC,QAAQ,QAAQ,KAAK;AAC9B,OAAOC,QAAQ,MAAM,SAAS;AAC9B,SAASC,SAAS,QAAQ,cAAc;;;;;;;IAExC,MAAMC,IAAI,GAAGH,QAAQ,CAAC;MACpBI,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,GAAG,EAAE,EAAE;MACPC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE;IACR,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAGb,SAAS,CAAC,CAAC;IAE1B,MAAMc,MAAM,GAAG,MAAAA,CAAA,KAAY;MACzBZ,QAAQ,CACLa,IAAI,CAAC,gCAAgC,EAAE;QACtCV,IAAI,EAAED,IAAI,CAACC,IAAI;QACfC,QAAQ,EAAEF,IAAI,CAACE,QAAQ;QACvBC,KAAK,EAAEH,IAAI,CAACG,KAAK;QACjBC,GAAG,EAAEQ,QAAQ,CAACZ,IAAI,CAACI,GAAG,CAAC;QACvBC,IAAI,EAAEL,IAAI,CAACK,IAAI;QACfC,KAAK,EAAEN,IAAI,CAACM,KAAK;QACjBC,MAAM,EAAEP,IAAI,CAACO,MAAM;QACnBC,IAAI,EAAER,IAAI,CAACQ,IAAI;QACfK,KAAK,EAAE;MACT,CAAC,CAAC,CACDC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACC,IAAI,CAACC,IAAI,KAAK,GAAG,EAAE;UACzBlB,SAAS,CAAC;YACRmB,OAAO,EAAEH,GAAG,CAACC,IAAI,CAACE,OAAO;YACzBC,IAAI,EAAE;UACR,CAAC,CAAC;UACFV,MAAM,CAACW,IAAI,CAAC,GAAG,CAAC;QAClB,CAAC,MAAM;UACLrB,SAAS,CAACsB,KAAK,CAACN,GAAG,CAACC,IAAI,CAACE,OAAO,CAAC;QACnC;MACF,CAAC,CAAC;IACN,CAAC;IACD,MAAMI,IAAI,GAAGA,CAAA,KAAM;MACjBb,MAAM,CAACW,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}